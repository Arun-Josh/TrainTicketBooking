CREATE TABLE USERS(
    USERID INT PRIMARY KEY AUTO_INCREMENT,
    MAILID VARCHAR(20) NOT NULL,
    NAME VARCHAR(30) NOT NULL,
    PHONE VARCHAR(15) NOT NULL,
    GENDER VARCHAR(6),
    PASSWORD VARCHAR(30) NOT NULL,
    PRIVILEGE INT NOT NULL
);

INSERT INTO USERS(mailid,name,phone,gender,password, PRIVILEGE) VALUES("1@1.com","Admin","9876543210","MALE","1",10);
INSERT INTO USERS(mailid,name,phone,gender,password, PRIVILEGE) VALUES("arun@123.com","Arun J","9876543210","MALE","12345",1);
INSERT INTO USERS(mailid,name,phone,gender,password, PRIVILEGE) VALUES("j@123.com","Dragon J" ,"8793671538","MALE","0000",1);

CREATE TABLE STATIONNAMES(
    STATIONID VARCHAR(10) PRIMARY KEY NOT NULL,
    STATIONNAME VARCHAR(50) NOT NULL
);

INSERT INTO STATIONNAMES VALUES("TPJ","	TRICHY");
INSERT INTO STATIONNAMES VALUES("MAS","CHENNAI CENTRAL");
INSERT INTO STATIONNAMES VALUES("MS","CHENNAI EGMORE");
INSERT INTO STATIONNAMES VALUES("CBE","COIMBATORE JUNCTION");
INSERT INTO STATIONNAMES VALUES("ALU","ARIYALUR");
INSERT INTO STATIONNAMES VALUES("SRGM","SRIRANGAM");
INSERT INTO STATIONNAMES VALUES("CGL","CHENGALPATTU JUNCTION");
INSERT INTO STATIONNAMES VALUES("TBM","TAMBARAM");
INSERT INTO STATIONNAMES VALUES("MDU","MADURAI");
INSERT INTO STATIONNAMES VALUES("KQN","KODAIKKANAL ROAD");
	
CREATE TABLE TRAINNAMES(
    TRAINID INT PRIMARY KEY AUTO_INCREMENT,
    TRAINNUMBER INT NOT NULL,
    TRAINNAME VARCHAR(50) NOT NULL 
);

INSERT INTO TRAINNAMES(TRAINNUMBER,TRAINNAME) VALUES(22672,"TEJAS EXPRESS");
INSERT INTO TRAINNAMES(TRAINNUMBER,TRAINNAME) VALUES(16852,"CHENNAI EXPRESS");
INSERT INTO TRAINNAMES(TRAINNUMBER,TRAINNAME) VALUES(19603,"AII RMM HUMSAFAR");


CREATE TABLE STATIONS(
    TRAINID INT NOT NULL,
    STATIONID VARCHAR(10) NOT NULL,
    STOPNO INT NOT NULL,
    STATIONARRTIME TIME NOT NULL,
    STATIONDEPTTIME TIME NOT NULL,
    DAYNUMBER INT NOT NULL,
    FOREIGN KEY (TRAINID) REFERENCES TRAINNAMES(TRAINID),   
    FOREIGN KEY (STATIONID) REFERENCES STATIONNAMES(STATIONID)
);

INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(1,"MDU",1,1,"15:00","15:02");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(1,"TPJ",2,1,"16:50","16:52");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(1,"MS",3,1,"21:30","21:40");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(2,"TPJ",1,1,"22:25","22:30");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(2,"TBM",2,2,"04:55","05:00");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(2,"MS",3,2,"05:49","05:50");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(3,"MS",1,1,"14:00","14:15");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(3,"ALU",2,1,"18:56","18:58");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(3,"TPJ",3,1,"20:20","20:30");

CREATE TABLE SEATSINFO(
    TRAINID INT NOT NULL,
    SEATTYPE VARCHAR(20) NOT NULL,
    SEATCOUNT INT NOT NULL,
    FOREIGN KEY (TRAINID) REFERENCES TRAINNAMES(TRAINID)
);

INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(1, "FIRST CLASS AC", 10);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(1, "2 TIER AC", 100);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(1, "3 TIER AC", 150);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(1, "SLEEPER", 300);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(1, "GENERAL", 100);

INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(2, "3 TIER AC", 1500);

INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(3, "FIRST CLASS AC", 50);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(3, "2 TIER AC", 200);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(3, "3 TIER AC", 450);
INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(3, "SLEEPER", 800);

CREATE TABLE SEATSAVAILABLE (
    TRAINID INT NOT NULL,
    STATIONID VARCHAR(10) NOT NULL,
    SEATTYPE VARCHAR(20) NOT NULL,
    SEATSAVAILABLE INT NOT NULL,
    DAY DATE NOT NULL 
);

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MDU", "FIRST CLASS AC", 10, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "TPJ", "FIRST CLASS AC", 10, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MS", "FIRST CLASS AC", 10, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MDU", "2 TIER AC", 100, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "TPJ", "2 TIER AC", 100, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MS", "2 TIER AC", 100, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MDU", "3 TIER AC", 150, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "TPJ", "3 TIER AC", 150, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MS", "3 TIER AC", 150, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MDU", "SLEEPER", 300, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "TPJ", "SLEEPER", 300, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MS", "SLEEPER", 300, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MDU", "GENERAL", 100, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "TPJ", "GENERAL", 100, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(1, "MS", "GENERAL", 100, "2019-05-21");


INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(2, "TPJ", "3 TIER AC", 1500, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(2, "TBM", "3 TIER AC", 1500, "2019-05-22");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(2, "MS", "3 TIER AC", 1500, "2019-05-22");


INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "MDU", "FIRST CLASS AC", 50, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "TPJ", "FIRST CLASS AC", 50, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "MS", "FIRST CLASS AC", 50, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "MS", "2 TIER AC", 200, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "ALU", "2 TIER AC", 100, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "TPJ", "2 TIER AC", 150, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "MS", "3 TIER AC", 450, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "ALU", "3 TIER AC", 450, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "TPJ", "3 TIER AC", 450, "2019-05-21");

INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "MS", "SLEEPER", 800, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "ALU", "SLEEPER", 800, "2019-05-21");
INSERT INTO SEATSAVAILABLE(TRAINID, STATIONID, SEATTYPE, SEATSAVAILABLE, DAY) VALUES(3, "TPJ", "SLEEPER", 800, "2019-05-21");

CREATE TABLE FARES (
    TRAINID INT NOT NULL,
    SEATTYPE VARCHAR(50) NOT NULL,
    FARETYPE VARCHAR(50) NOT NULL,
    FARE INT NOT NULL,
    FOREIGN KEY (TRAINID) REFERENCES TRAINNAMES(TRAINID) 
);

INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (1,"FIRST CLASS AC","NORMAL",500);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (1,"2 TIER AC","NORMAL",400);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (1,"3 TIER AC","NORMAL",300);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (1,"SLEEPER","NORMAL",200);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (1,"GENERAL","NORMAL",100);

INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (2,"3 TIER AC","NORMAL",420);

INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (3,"FIRST CLASS AC","NORMAL",550);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (3,"2 TIER AC","NORMAL",410);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (3,"3 TIER AC","NORMAL",330);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (3,"SLEEPER","NORMAL",210);
INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (3,"GENERAL","NORMAL",130);

CREATE TABLE BOOKINGS (
    PNR INT PRIMARY KEY AUTO_INCREMENT,
    USERID INT NOT NULL,
    TRAINID INT NOT NULL,
    MAILID VARCHAR(30),
    MODEOFPAYMENT VARCHAR(20) NOT NULL,
    PAYMENTSTATUS VARCHAR(20) NOT NULL,
    ACCOUNTNUMBER VARCHAR(20),
    IFSCCODE VARCHAR(20),
    CARDNUMBER VARCHAR(20),
    TICKETSTATUS VARCHAR(20),
    DATEOFTRAVEL DATE,
    SOURCE VARCHAR(50),
    DEST VARCHAR(50),
    FARE INT NOT NULL,
    FOREIGN KEY (USERID) REFERENCES USERS(USERID)
);

CREATE TABLE PASSENGERINFO(
    PASSENGERID INT AUTO_INCREMENT PRIMARY KEY,
    PNR INT NOT NULL,
    PASSENGERNAME VARCHAR(30),
    SEATNO INT,
    AGE INT NOT NULL,
    GENDER VARCHAR(20),
    STATUS VARCHAR(20) DEFAULT "CONFIRMED",
    SEATTYPE VARCHAR(50) NOT NULL,
    FOREIGN KEY (PNR) REFERENCES BOOKINGS(PNR)
);

CREATE TABLE OPERATINGDAYS(
    TRAINID INT NOT NULL,
    DAYS VARCHAR(3) NOT NULL
);

-- YET TO USE OPERATING DAYS


-- LOGICAL PART

    SELECT * FROM STATIONS WHERE STATIONID = "TPJ"; 
    UPDATE SEATSAVAILABLE SET SEATSAVAILABLE = 8 WHERE TRAINID = "1" AND DAY = "2019-05-21" AND (STATIONID = "MDU" OR STATIONID = "MS") AND SEATTYPE = "FIRST CLASS AC";

SELECT  * FROM STATIONS WHERE TRAINID = 1 and STOPNO >= 3 AND STOPNO <= 2 ;

UPDATE TABLE BOOKINGS SET TICKETSTATUS = "WAITING LIST" WHERE PNR = 1;

SELECT BOOKINGS.PNR, BOOKINGS.USERID, BOOKINGS.TRAINID,
                    BOOKINGS.TICKETSTATUS, BOOKINGS.DATEOFTRAVEL, BOOKINGS.SOURCE, BOOKINGS.DEST, BOOKINGS.FARE, 
                    PASSENGERINFO.PASSENGERID, PASSENGERINFO.STATUS, PASSENGERINFO.PASSENGERNAME, PASSENGERINFO.SEATNO, PASSENGERINFO.AGE, PASSENGERINFO.GENDER
                    FROM BOOKINGS,PASSENGERINFO  WHERE BOOKINGS.USERID = 2 AND PASSENGERINFO.PNR = BOOKINGS.PNR;

    SELECT TRAINNAME, TRAINNUMBER, STATIONARRTIME FROM TRAINNAMES T,  STATIONS S WHERE T.TRAINID = S.TRAINID;  

    UPDATE BOOKINGS SET TICKETSTATUS = "WAITING" WHERE PNR = 112;

    update passengerinfo set status = "CANCELLED" where passengerid = 5;

SELECT * FROM BOOKINGS INNER JOIN PASSENGERINFO ON BOOKINGS.PNR = PASSENGERINFO.PNR WHERE PASSENGERID = 184 AND USERID = 2;

ALTER TABLE BOOKINGS ADD COLUMN SEATTYPE VARCHAR(50) NOT NULL;

SELECT STATIONNAMES.STATIONNAME FROM STATIONNAMES AS STN INNER JOIN STATIONS AS ST ON ST.STATIONID = STN.STATIONID;   
SELECT STATIONNAMES.STATIONNAME FROM STATIONNAMES LEFT JOIN STATIONS ON STATIONNAMES.STATIONID = STATIONS.STATIONID WHERE TRAINID = 1 ORDER BY STATIONS.STOPNO;   

-- Adding New Train

INSERT INTO TRAINNAMES(TRAINNUMBER,TRAINNAME) VALUES(10462,"UNIVERSAL EXPRESS");

INSERT INTO SEATSINFO(TRAINID, SEATTYPE, SEATCOUNT) VALUES(4, "3 TIER AC", 800);

INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"MDU",1,1,"02:25","02:30");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"TPJ",2,1,"04:55","05:00");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"CBE",3,1,"05:49","05:50");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"CGL",4,1,"07:25","07:30");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"TBM",5,1,"08:55","08:00");
INSERT INTO STATIONS(TRAINID, STATIONID, STOPNO, DAYNUMBER, STATIONARRTIME, STATIONDEPTTIME) VALUES(4,"MS",6,1,"12:49","12:50");

INSERT INTO FARES(TRAINID, SEATTYPE, FARETYPE, FARE) VALUES (4,"3 TIER AC","NORMAL",370);

-- BOOKED TICKETS

SELECT  BOOKINGS.USERID, PASSENGERINFO.PASSENGERID, 
        BOOKINGS.PNR, BOOKINGS.SOURCE, BOOKINGS.DEST, 
        TRAINNAMES.TRAINNUMBER,TRAINNAMES.TRAINNAME, 
        PASSENGERINFO.STATUS,
        BOOKINGS.DATEOFTRAVEL, BOOKINGS.FARE,
        PASSENGERINFO.PASSENGERNAME, PASSENGERINFO.AGE, PASSENGERINFO.SEATNO, PASSENGERINFO.GENDER,
        FROMSTATION.STATIONARRTIME AS FROMSTATIOINARRTIME, 
        TOSTATION.STATIONARRTIME AS TOSTATIONARRTIME,
        BOOKINGS.SEATTYPE, 
        BOOKINGS.TRAINID
        FROM PASSENGERINFO 
        INNER JOIN BOOKINGS ON BOOKINGS.PNR = PASSENGERINFO.PNR
        INNER JOIN TRAINNAMES ON BOOKINGS.TRAINID = TRAINNAMES.TRAINID
        INNER JOIN STATIONS AS FROMSTATION ON BOOKINGS.SOURCE = FROMSTATION.STATIONID AND BOOKINGS.TRAINID = FROMSTATION.TRAINID
        INNER JOIN STATIONS AS TOSTATION   ON BOOKINGS.DEST = TOSTATION.STATIONID  AND BOOKINGS.TRAINID = TOSTATION.TRAINID
        WHERE BOOKINGS.USERID = 2;

SELECT  FROMSTATION.STATIONARRTIME, 
        TOSTATION.STATIONARRTIME
        FROM 
        STATIONS FROMSTATION,
        STATIONS TOSTATION,
        BOOKINGS
        WHERE FROMSTATION.STATIONID = BOOKINGS.SOURCE AND TOSTATION.STATIONID = BOOKINGS.DEST AND BOOKINGS.USERID = 23;

-- PNR CHECK

SELECT  BOOKINGS.TRAINID,
        BOOKINGS.USERID, 
        BOOKINGS.PNR, BOOKINGS.SOURCE, BOOKINGS.DEST, 
        TRAINNAMES.TRAINNUMBER,TRAINNAMES.TRAINNAME, 
        BOOKINGS.DATEOFTRAVEL, BOOKINGS.FARE,
        FROMSTATION.STATIONARRTIME AS FROMSTATIOINARRTIME, 
        TOSTATION.STATIONARRTIME AS TOSTATIONARRTIME,
        BOOKINGS.SEATTYPE 
        FROM BOOKINGS 
        INNER JOIN TRAINNAMES ON BOOKINGS.TRAINID = TRAINNAMES.TRAINID
        INNER JOIN STATIONS AS FROMSTATION ON BOOKINGS.SOURCE = FROMSTATION.STATIONID AND BOOKINGS.TRAINID = FROMSTATION.TRAINID
        INNER JOIN STATIONS AS TOSTATION   ON BOOKINGS.DEST = TOSTATION.STATIONID  AND BOOKINGS.TRAINID = TOSTATION.TRAINID
        WHERE BOOKINGS.PNR = 244;

select stations.stationid, seatsinfo.seattype, seatsinfo.seatcount from stations inner join SEATSINFO on seatsinfo.trainid = stations.trainid  where seatsinfo.trainid = 4;


SELECT FROMSTATION.TRAINID , FROMSTATION.STATIONID AS FROMSTATIONID, TOSTATION.STATIONID AS TOSTATIONID, FROMSTATION.STATIONARRTIME AS FROMSTATIONARRTIME, TOSTATION.STATIONARRTIME AS TOSTATIONARRTIME, FROMSTATION.STOPNO AS FROMSTATIONSTOPNO, TOSTATION.STOPNO AS TOSTATIONSTOPNO, 
       TRAINNAMES.TRAINNAME, TRAINNAMES.TRAINNUMBER
       FROM
       TRAINNAMES
       INNER JOIN STATIONS FROMSTATION ON FROMSTATION.TRAINID = TRAINNAMES.TRAINID
       INNER JOIN STATIONS TOSTATION   ON TOSTATION.TRAINID   = TRAINNAMES.TRAINID  
       INNER JOIN STATIONNAMES FROMSTATIONNAME ON FROMSTATIONNAME.STATIONID = FROMSTATION.STATIONID
       INNER JOIN STATIONNAMES TOSTATIONNAME   ON TOSTATIONNAME.STATIONID = TOSTATION.STATIONID
       WHERE 
       FROMSTATIONNAME.STATIONNAME = "TRICHY" AND TOSTATIONNAME.STATIONNAME = "CHENNAI EGMORE" AND FROMSTATION.STOPNO < TOSTATION.STOPNO;

UPDATE SEATSAVAILABLE SA INNER JOIN STATIONS AS SN SET SEATSAVAILABLE = SEATSAVAILABLE - 1 WHERE SA.TRAINID = 3 AND SN.TRAINID = 3 AND SA.DAY = '2019-06-06' AND SN.STOPNO > 1 AND SN.STOPNO < 3 AND SA.SEATTYPE='2 TIER AC';

SELECT * FROM SEATSAVAILABLE AS SA, STATIONS AS SN WHERE SA.TRAINID = 3 AND SN.TRAINID = 3 AND SA.DAY = '2019-06-06' AND SN.STOPNO > 1 AND SN.STOPNO < 3;

    SELECT *
    FROM SEATSAVAILABLE 
    INNER JOIN STATIONS ON SEATSAVAILABLE.TRAINID = STATIONS.TRAINID
    WHERE SEATSAVAILABLE.TRAINID = 3 AND STATIONS.TRAINID = 3 AND SEATSAVAILABLE.SEATTYPE = '2 TIER AC' AND SEATSAVAILABLE.DAY = '2019-06-06' AND STATIONS.STOPNO>2 AND STATIONS.STOPNO<5;

SELECT * FROM STATIONS WHERE TRAINID = 3 ;

-- function mySubmit(obj) {

--   var pwdObj = '0000';
--   console.log(pwdObj);
--   var hashObj = new jsSHA("SHA-512", "TEXT", {numRounds: 1});
--   hashObj.update(pwdObj);
--   var hash = hashObj.getHash("HEX");
--   pwdObj = hash;
--   console.log(pwdObj);
-- }